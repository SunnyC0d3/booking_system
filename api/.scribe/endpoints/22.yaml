name: 'Order Returns'
description: ''
endpoints:
  -
    httpMethods:
      - POST
    uri: api/returns
    metadata:
      groupName: 'Order Returns'
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Create a return request for an order item'
      description: |-
        Allows authenticated users to request a return for items from their paid orders.
        Users can only return items from orders they own and that have been successfully paid.
        Each order item can only have one return request to prevent duplicate submissions.
        This is the first step in the return process - the request will need admin approval before processing.
      authenticated: true
      custom: []
    headers:
      Authorization: 'Bearer {YOUR_AUTH_TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      order_item_id:
        name: order_item_id
        description: 'The ID of the specific order item to return. Must belong to a paid order owned by the authenticated user.'
        required: true
        example: 89
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      reason:
        name: reason
        description: 'Detailed reason for the return request. Must be between 10 and 1000 characters to provide sufficient context for review.'
        required: true
        example: 'The wireless headphones arrived with a defective left speaker that produces crackling sounds at any volume level. The product does not match the quality described.'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
    cleanBodyParameters:
      order_item_id: 89
      reason: 'The wireless headphones arrived with a defective left speaker that produces crackling sounds at any volume level. The product does not match the quality described.'
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "message": "Orders return created.",
            "data": {
              "id": 15,
              "reason": "The wireless headphones arrived with a defective left speaker that produces crackling sounds at any volume level. The product does not match the quality described.",
              "status": "Requested",
              "created_at": "2025-01-16T14:30:00.000000Z",
              "updated_at": "2025-01-16T14:30:00.000000Z"
            }
          }
        headers: []
        description: 'Return request created successfully'
        custom: []
      -
        status: 400
        content: |-
          {
            "message": "This item is not eligible for return due to its category or condition."
          }
        headers: []
        description: 'Item not eligible for return'
        custom: []
      -
        status: 401
        content: |-
          {
            "message": "Unauthenticated."
          }
        headers: []
        description: 'User not authenticated'
        custom: []
      -
        status: 403
        content: |-
          {
            "message": "You are not authorized to return this item."
          }
        headers: []
        description: "Unauthorized - not user's order item"
        custom: []
      -
        status: 404
        content: |-
          {
            "message": "Order item not found."
          }
        headers: []
        description: 'Order item not found'
        custom: []
      -
        status: 409
        content: |-
          {
            "message": "A return request has already been created for this item."
          }
        headers: []
        description: 'Return already exists for this item'
        custom: []
      -
        status: 422
        content: |-
          {
            "message": "Order has not been paid for."
          }
        headers: []
        description: 'Order not paid'
        custom: []
      -
        status: 422
        content: |-
          {
            "message": "Return window has expired for this order."
          }
        headers: []
        description: 'Order too old for returns'
        custom: []
      -
        status: 422
        content: |-
          {
            "errors": [
              "The order item id field is required.",
              "The reason field is required.",
              "The reason must be at least 10 characters.",
              "The reason may not be greater than 1000 characters.",
              "The selected order item id is invalid."
            ]
          }
        headers: []
        description: 'Validation errors'
        custom: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
    custom: []

name: 'Product Category Management'
description: ''
endpoints:
  -
    httpMethods:
      - GET
    uri: api/admin/product-categories
    metadata:
      groupName: 'Product Category Management'
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Get all product categories'
      description: |-
        Retrieve a complete hierarchical list of all product categories in the system. Categories
        help organize products for better navigation and filtering. This endpoint returns both
        parent categories and their child subcategories, enabling administrators to understand
        the complete category structure and manage product organization effectively.
      authenticated: true
      custom: []
    headers:
      Authorization: 'Bearer {YOUR_AUTH_TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
              "message": "Categories retrieved successfully.",
              "data": [
                  {
                      "id": 1,
                      "name": "Electronics",
                      "parent_id": null,
                      "created_at": "2024-12-01T10:00:00.000000Z",
                      "updated_at": "2024-12-01T10:00:00.000000Z",
                      "children": [
                          {
                              "id": 2,
                              "name": "Smartphones",
                              "parent_id": 1,
                              "created_at": "2024-12-01T10:05:00.000000Z",
                              "updated_at": "2024-12-01T10:05:00.000000Z",
                              "children": []
                          },
                          {
                              "id": 3,
                              "name": "Laptops",
                              "parent_id": 1,
                              "created_at": "2024-12-01T10:10:00.000000Z",
                              "updated_at": "2024-12-01T10:10:00.000000Z",
                              "children": []
                          },
                          {
                              "id": 4,
                              "name": "Audio Devices",
                              "parent_id": 1,
                              "created_at": "2024-12-01T10:15:00.000000Z",
                              "updated_at": "2024-12-01T10:15:00.000000Z",
                              "children": [
                                  {
                                      "id": 5,
                                      "name": "Headphones",
                                      "parent_id": 4,
                                      "created_at": "2024-12-01T10:20:00.000000Z",
                                      "updated_at": "2024-12-01T10:20:00.000000Z",
                                      "children": []
                                  },
                                  {
                                      "id": 6,
                                      "name": "Speakers",
                                      "parent_id": 4,
                                      "created_at": "2024-12-01T10:25:00.000000Z",
                                      "updated_at": "2024-12-01T10:25:00.000000Z",
                                      "children": []
                                  }
                              ]
                          }
                      ]
                  },
                  {
                      "id": 7,
                      "name": "Clothing",
                      "parent_id": null,
                      "created_at": "2024-12-01T10:30:00.000000Z",
                      "updated_at": "2024-12-01T10:30:00.000000Z",
                      "children": [
                          {
                              "id": 8,
                              "name": "Men's Clothing",
                              "parent_id": 7,
                              "created_at": "2024-12-01T10:35:00.000000Z",
                              "updated_at": "2024-12-01T10:35:00.000000Z",
                              "children": []
                          },
                          {
                              "id": 9,
                              "name": "Women's Clothing",
                              "parent_id": 7,
                              "created_at": "2024-12-01T10:40:00.000000Z",
                              "updated_at": "2024-12-01T10:40:00.000000Z",
                              "children": []
                          }
                      ]
                  }
              ]
          }
        headers: []
        description: 'Categories retrieved successfully'
        custom: []
      -
        status: 200
        content: |-
          {
              "message": "Categories retrieved successfully.",
              "data": []
          }
        headers: []
        description: 'No categories found'
        custom: []
      -
        status: 403
        content: |-
          {
              "message": "You do not have the required permissions."
          }
        headers: []
        description: 'Insufficient permissions'
        custom: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - POST
    uri: api/admin/product-categories
    metadata:
      groupName: 'Product Category Management'
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Store a new product category'
      description: |-
        Create a new product category in the system. Categories can be created as top-level
        categories (with no parent) or as subcategories under existing categories. This hierarchical
        structure helps organize products for better navigation and filtering. Category names
        must be unique across the entire system to avoid confusion.
      authenticated: true
      custom: []
    headers:
      Authorization: 'Bearer {YOUR_AUTH_TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      name:
        name: name
        description: 'The name of the category. Must be unique across all categories.'
        required: true
        example: '"Laptops"'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      parent_id:
        name: parent_id
        description: 'optional The ID of the parent category. Omit for top-level categories.'
        required: false
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
    cleanBodyParameters:
      name: '"Laptops"'
      parent_id: 1
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
              "message": "Category created successfully.",
              "data": {
                  "id": 10,
                  "name": "Laptops",
                  "parent_id": 1,
                  "created_at": "2025-01-16T14:30:00.000000Z",
                  "updated_at": "2025-01-16T14:30:00.000000Z"
              }
          }
        headers: []
        description: 'Category created successfully'
        custom: []
      -
        status: 200
        content: |-
          {
              "message": "Category created successfully.",
              "data": {
                  "id": 11,
                  "name": "Home & Garden",
                  "parent_id": null,
                  "created_at": "2025-01-16T14:35:00.000000Z",
                  "updated_at": "2025-01-16T14:35:00.000000Z"
              }
          }
        headers: []
        description: 'Top-level category created'
        custom: []
      -
        status: 403
        content: |-
          {
              "message": "You do not have the required permissions."
          }
        headers: []
        description: 'Insufficient permissions'
        custom: []
      -
        status: 422
        content: |-
          {
              "errors": [
                  "The name field is required.",
                  "The name has already been taken.",
                  "The parent id must exist in product_categories table.",
                  "The name may not be greater than 255 characters."
              ]
          }
        headers: []
        description: 'Validation errors'
        custom: []
      -
        status: 422
        content: |-
          {
              "errors": [
                  "The name has already been taken."
              ]
          }
        headers: []
        description: 'Duplicate category name'
        custom: []
      -
        status: 422
        content: |-
          {
              "errors": [
                  "The selected parent id is invalid."
              ]
          }
        headers: []
        description: 'Invalid parent category'
        custom: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - GET
    uri: 'api/admin/product-categories/{productCategory_id}'
    metadata:
      groupName: 'Product Category Management'
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Get a specific product category'
      description: |-
        Retrieve detailed information about a specific product category including its subcategories.
        This endpoint is useful for examining category hierarchies and understanding the structure
        of product organization within a particular category branch.
      authenticated: true
      custom: []
    headers:
      Authorization: 'Bearer {YOUR_AUTH_TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      productCategory_id:
        name: productCategory_id
        description: 'The ID of the productCategory.'
        required: true
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        custom: []
      productCategory:
        name: productCategory
        description: 'The ID of the product category to retrieve.'
        required: true
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
    cleanUrlParameters:
      productCategory_id: 1
      productCategory: 1
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
              "message": "Category retrieved successfully.",
              "data": {
                  "id": 1,
                  "name": "Electronics",
                  "parent_id": null,
                  "created_at": "2024-12-01T10:00:00.000000Z",
                  "updated_at": "2024-12-01T10:00:00.000000Z",
                  "children": [
                      {
                          "id": 2,
                          "name": "Smartphones",
                          "parent_id": 1,
                          "created_at": "2024-12-01T10:05:00.000000Z",
                          "updated_at": "2024-12-01T10:05:00.000000Z",
                          "children": []
                      },
                      {
                          "id": 3,
                          "name": "Laptops",
                          "parent_id": 1,
                          "created_at": "2024-12-01T10:10:00.000000Z",
                          "updated_at": "2024-12-01T10:10:00.000000Z",
                          "children": []
                      }
                  ]
              }
          }
        headers: []
        description: 'Category retrieved successfully'
        custom: []
      -
        status: 200
        content: |-
          {
              "message": "Category retrieved successfully.",
              "data": {
                  "id": 2,
                  "name": "Smartphones",
                  "parent_id": 1,
                  "created_at": "2024-12-01T10:05:00.000000Z",
                  "updated_at": "2024-12-01T10:05:00.000000Z",
                  "children": []
              }
          }
        headers: []
        description: 'Leaf category with no children'
        custom: []
      -
        status: 403
        content: |-
          {
              "message": "You do not have the required permissions."
          }
        headers: []
        description: 'Insufficient permissions'
        custom: []
      -
        status: 404
        content: |-
          {
              "message": "No query results for model [App\\Models\\ProductCategory] 999"
          }
        headers: []
        description: 'Category not found'
        custom: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - POST
    uri: 'api/admin/product-categories/{productCategory_id}'
    metadata:
      groupName: 'Product Category Management'
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Update a product category'
      description: |-
        Modify an existing product category's name or parent relationship. When changing the parent,
        ensure that circular references are not created (a category cannot be its own ancestor).
        The system prevents self-referencing to maintain a valid hierarchical structure.
      authenticated: true
      custom: []
    headers:
      Authorization: 'Bearer {YOUR_AUTH_TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      productCategory_id:
        name: productCategory_id
        description: 'The ID of the productCategory.'
        required: true
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        custom: []
      productCategory:
        name: productCategory
        description: 'The ID of the product category to update.'
        required: true
        example: 10
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
    cleanUrlParameters:
      productCategory_id: 1
      productCategory: 10
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      name:
        name: name
        description: 'The updated name of the category. Must be unique across all categories.'
        required: true
        example: '"Updated Category Name"'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      parent_id:
        name: parent_id
        description: 'optional The ID of the parent category. Cannot be the same as the category being updated.'
        required: false
        example: 2
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
    cleanBodyParameters:
      name: '"Updated Category Name"'
      parent_id: 2
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
              "message": "Category updated successfully.",
              "data": {
                  "id": 10,
                  "name": "Updated Category Name",
                  "parent_id": 2,
                  "created_at": "2025-01-16T14:30:00.000000Z",
                  "updated_at": "2025-01-16T15:45:00.000000Z"
              }
          }
        headers: []
        description: 'Category updated successfully'
        custom: []
      -
        status: 200
        content: |-
          {
              "message": "Category updated successfully.",
              "data": {
                  "id": 10,
                  "name": "Independent Category",
                  "parent_id": null,
                  "created_at": "2025-01-16T14:30:00.000000Z",
                  "updated_at": "2025-01-16T15:50:00.000000Z"
              }
          }
        headers: []
        description: 'Category made top-level'
        custom: []
      -
        status: 403
        content: |-
          {
              "message": "You do not have the required permissions."
          }
        headers: []
        description: 'Insufficient permissions'
        custom: []
      -
        status: 404
        content: |-
          {
              "message": "No query results for model [App\\Models\\ProductCategory] 999"
          }
        headers: []
        description: 'Category not found'
        custom: []
      -
        status: 422
        content: |-
          {
              "errors": [
                  "The name field is required.",
                  "The name has already been taken.",
                  "The parent id must exist in product_categories table.",
                  "The parent id field cannot reference the current category (self-reference not allowed)."
              ]
          }
        headers: []
        description: 'Validation errors'
        custom: []
      -
        status: 422
        content: |-
          {
              "errors": [
                  "A category cannot be its own parent."
              ]
          }
        headers: []
        description: 'Self-reference attempt'
        custom: []
      -
        status: 422
        content: |-
          {
              "errors": [
                  "Cannot set parent category as it would create a circular reference in the hierarchy."
              ]
          }
        headers: []
        description: 'Circular reference prevention'
        custom: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - DELETE
    uri: 'api/admin/product-categories/{productCategory_id}'
    metadata:
      groupName: 'Product Category Management'
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Delete a product category'
      description: |-
        Permanently remove a product category from the system. Categories can only be deleted
        if they have no subcategories (children). If a category contains subcategories, those
        must be deleted first or moved to another parent category. This prevents orphaned
        categories and maintains the integrity of the hierarchical structure.

        **Warning**: Deleting a category may affect products that are currently assigned to it.
        Ensure products are reassigned to appropriate categories before deletion.
      authenticated: true
      custom: []
    headers:
      Authorization: 'Bearer {YOUR_AUTH_TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      productCategory_id:
        name: productCategory_id
        description: 'The ID of the productCategory.'
        required: true
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        custom: []
      productCategory:
        name: productCategory
        description: 'The ID of the product category to delete.'
        required: true
        example: 10
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
    cleanUrlParameters:
      productCategory_id: 1
      productCategory: 10
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
              "message": "Category deleted successfully"
          }
        headers: []
        description: 'Category deleted successfully'
        custom: []
      -
        status: 400
        content: |-
          {
              "message": "Cannot delete a category with subcategories"
          }
        headers: []
        description: 'Category has subcategories'
        custom: []
      -
        status: 403
        content: |-
          {
              "message": "You do not have the required permissions."
          }
        headers: []
        description: 'Insufficient permissions'
        custom: []
      -
        status: 404
        content: |-
          {
              "message": "No query results for model [App\\Models\\ProductCategory] 999"
          }
        headers: []
        description: 'Category not found'
        custom: []
      -
        status: 409
        content: |-
          {
              "message": "Cannot delete category that has products assigned to it. Please reassign products to other categories first."
          }
        headers: []
        description: 'Category has associated products'
        custom: []
      -
        status: 422
        content: |-
          {
              "message": "This category cannot be deleted as it has associated products or subcategories."
          }
        headers: []
        description: 'Category has dependencies'
        custom: []
      -
        status: 500
        content: |-
          {
              "message": "An error occurred while deleting the category."
          }
        headers: []
        description: 'Deletion failed'
        custom: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
    custom: []
